<!DOCTYPE html>
<html  class="maximized">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>options</title>
	<link rel="icon" type="image/x-icon" href="../icons/icon48.png">
	<link rel="stylesheet" href="options.css">
	<meta name="viewport" content="width=device-width,initial-scale=1">
</head>

<body>
	<main>
		<h3>
			<span class="options-title">
				<span id="expandAllButton"></span>
				<span id="titleLabel">选项</span>
			</span>
			<!-- 配置切换 -->
			<span class="profiles">
				<select id="profileNamesInput">
					<!-- <option>默认设置</option> -->
				</select>
				<button id="addProfileButton" title="添加一个新的配置文件"><img src="icons/button_new.png"></button>
				<button id="deleteProfileButton" title="删除配置文件" disabled=""><img src="icons/button_delete.png"></button>
				<button id="renameProfileButton" title="重命名配置文件" disabled=""><img src="icons/button_edit.png"></button>
			</span>
		</h3>
		<!-- 标注 -->
		<details>
			<summary>标注</summary>
			<!-- 一级标注前缀 -->
			<div class="option vertical">
				<label for="s1Pre" id="s1PreLabel">一级标注前缀<span class="help-icon"></span></label>
				<textarea type="text" maxlength="150" id="s1Pre"></textarea>
			</div>
			<div hidden="" class="help-content">
				<p>一级标注是指被直线标注的文本：</p>
				<img src="icons/markstyle1.png">
				<p>输入框中的内容在导出标注时将会被添加到一级标注前面。如，若这里设置为两个星号(**)，则上图中的标注导出来后为<span class="lineinline">**我是个冒险的游侠骑士，名叫堂吉诃德·台·拉·曼却</span>。</p>
			</div>
			<!-- 一级标注后缀 -->
			<div class="option vertical">
				<label for="s1Suf" id="s1SufLabel">一级标注后缀<span class="help-icon"></span></label>
				<textarea type="text" maxlength="150" id="s1Suf"></textarea>
			</div>
			<div hidden="" class="help-content">
				<p>一级标注是指被直线标注的文本：</p>
				<img src="icons/markstyle1.png">
				<p>输入框中的内容在导出标注时将会被添加到一级标注后面。如，若这里设置为两个星号(**)，则上图中的标注导出来后为<span class="lineinline">我是个冒险的游侠骑士，名叫堂吉诃德·台·拉·曼却**</span>。</p>
			</div>
			<!-- 二级标注前缀 -->
			<div class="option vertical">
				<label for="s2Pre" id="s2PreLabel">二级标注前缀<span class="help-icon"></span></label>
				<textarea type="text" maxlength="150" id="s2Pre"></textarea>
			</div>
			<div hidden="" class="help-content">
				<p>二级标注是指被马克笔标注的文本：</p>
				<img src="icons/markstyle2.png">
				<p>输入框中的内容在导出标注时将会被添加到二级标注前面。如，若这里设置为两个星号(**)，则上图中的标注导出来后为<span class="lineinline">**我是个冒险的游侠骑士，名叫堂吉诃德·台·拉·曼却</span>。</p>
			</div>
			<!-- 二级标注后缀 -->
			<div class="option vertical">
				<label for="s2Suf" id="s2SufLabel">二级标注后缀<span class="help-icon"></span></label>
				<textarea type="text" maxlength="150" id="s2Suf"></textarea>
			</div>
			<div hidden="" class="help-content">
				<p>二级标注是指被马克笔标注的文本：</p>
				<img src="icons/markstyle2.png">
				<p>输入框中的内容在导出标注时将会被添加到二级标注后面。如，若这里设置为两个星号(**)，则上图中的标注导出来后为<span class="lineinline">我是个冒险的游侠骑士，名叫堂吉诃德·台·拉·曼却**</span>。</p>
			</div>
			<!-- 三级标注前缀 -->
			<div class="option vertical">
				<label for="s3Pre" id="s3PreLabel">三级标注前缀<span class="help-icon"></span></label>
				<textarea type="text" maxlength="150" id="s3Pre"></textarea>
			</div>
			<div hidden="" class="help-content">
				<p>三级标注是指被波浪线标注的文本：</p>
				<img src="icons/markstyle3.png">
				<p>输入框中的内容在导出标注时将会被添加到三级标注前面。如，若这里设置为两个星号(**)，则上图中的标注导出来后为<span class="lineinline">**我是个冒险的游侠骑士，名叫堂吉诃德·台·拉·曼却</span>。</p>
			</div>
			<!-- 三级标注后缀 -->
			<div class="option vertical">
				<label for="s3Suf" id="s3SufLabel">三级标注后缀<span class="help-icon"></span></label>
				<textarea type="text" maxlength="150" id="s3Suf"></textarea>
			</div>
			<div hidden="" class="help-content">
				<p>三级标注是指被波浪线标注的文本：</p>
				<img src="icons/markstyle3.png">
				<p>输入框中的内容在导出标注时将会被添加到三级标注后面。如，若这里设置为两个星号(**)，则上图中的标注导出来后为<span class="lineinline">我是个冒险的游侠骑士，名叫堂吉诃德·台·拉·曼却**</span>。</p>
			</div>
		</details>
		<!-- 标题 -->
		<details>
			<summary>标题</summary>
			<!-- 一级标题前缀 -->
			<div class="option vertical">
				<label for="lev1Pre" id="lev1PreLabel">一级标题前缀<span class="help-icon"></span></label>
				<textarea type="text" maxlength="150" id="lev1Pre"></textarea>
			</div>
			<div hidden="" class="help-content">
				<p>微信读书中的书通常最多只有三级目录：</p>
				<img src="icons/chapterLevel.png">
				<p>其中排第一的标题(朗读者1)即为一级标题。</p>
				<p>“一级标题前缀”中的内容在导出标题时将会被添加到一级标题前面，相应地，下方的“一级标题后缀”中的内容在导出标题时将会被添加到一级标题之后。如，若这里设置为一个井号加一个空格(# )，同时“一级标题后缀”设置为空，则上面的一级标题导出来后为<span class="lineinline"># 朗读者1</span>。</p>
			</div>
			<!-- 一级标题后缀 -->
			<div class="option vertical">
				<label for="lev1Suf" id="lev1SufLabel">一级标题后缀</span></label>
				<textarea type="text" maxlength="150" id="lev1Suf"></textarea>
			</div>
			<!-- 二级标注前缀 -->
			<div class="option vertical">
				<label for="lev2Pre" id="lev2PreLabel">二级标题前缀</span></label>
				<textarea type="text" maxlength="150" id="lev2Pre"></textarea>
			</div>
			<!-- 二级标题后缀 -->
			<div class="option vertical">
				<label for="lev2Suf" id="lev2SufLabel">二级标题后缀</span></label>
				<textarea type="text" maxlength="150" id="lev2Suf"></textarea>
			</div>
			<!-- 三级标注前缀 -->
			<div class="option vertical">
				<label for="lev3Pre" id="lev3PreLabel">三级标题前缀</span></label>
				<textarea type="text" maxlength="150" id="lev3Pre"></textarea>
			</div>
			<!-- 三级标题后缀 -->
			<div class="option vertical">
				<label for="lev3Suf" id="lev3SufLabel">三级标题后缀</span></label>
				<textarea type="text" maxlength="150" id="lev3Suf"></textarea>
			</div>
		</details>
		<!-- 想法 -->
		<details>
			<summary>想法</summary>
			<!-- 我的想法前缀 -->
			<div class="option vertical">
				<label for="thouPre" id="thouPreLabel">想法前缀<span class="help-icon"></span></label>
				<textarea type="text" maxlength="150" id="thouPre"></textarea>
			</div>
			<!-- 我的想法后缀 -->
			<div class="option vertical">
				<label for="thouSuf" id="thouSufLabel">想法后缀</label>
				<textarea type="text" maxlength="150" id="thouSuf"></textarea>
			</div>
			<div hidden="" class="help-content">
				<p>想法也就是你平时阅读时在书中发表的想法。当你将前后缀设置为两个星号(**)时，导出的想法在 Markdown 中将会被加粗。</p>
			</div>
			<!--  -->
			<!-- 想法标注前缀 -->
			<div class="option vertical">
				<label for="thouMarkPre" id="thouMarkPreLabel">想法标注前缀<span class="help-icon"></span></label>
				<textarea type="text" maxlength="150" id="thouMarkPre"></textarea>
			</div>
			<!-- 想法标注后缀 -->
			<div class="option vertical">
				<label for="thouMarkSuf" id="thouMarkSufLabel">想法标注后缀</label>
				<textarea type="text" maxlength="150" id="thouMarkSuf"></textarea>
			</div>
			<div hidden="" class="help-content">
				<p>想法标注即想法所对应的书本内容。当你将想法标注前后缀设置为两个星号(**)时，导出的想法标注在 Markdown 中将会被加粗。</p>
			</div>
		</details>
		<!-- 代码块 -->
		<details>
			<summary>代码块</summary>
			<div class="option vertical">
				<label for="codePre" id="codePreLabel">代码块前缀<span class="help-icon"></span></label>
				<input type="text" maxlength="15" id="codePre">
			</div>
			<div class="option vertical">
				<label for="codeSuf" id="codeSufLabel">代码块后缀</label>
				<input type="text" maxlength="15" id="codeSuf">
			</div>
			<div hidden="" class="help-content">
				<p>扩展支持复制书本中的代码块，你可以在这里设置代码块前后缀。</p>
				<p>比如，当你将代码块前缀设置为<code>```python</code>同时将代码块后缀设置为<code>```</code>时，你复制得到的代码块在 Markdown 中会按照 python 的语法高亮显示。</p>
				<p>有时你可能不希望导出的代码块前后包含任何内容，这时你可以将代码块前后缀设置为空。</p>
			</div>
		</details>
		<!-- 正则替换 -->
		<details>
			<summary>正则替换</summary>
			<!--  -->
			<div class="regexpContainer">
				<div class="option vertical">
					<div class="option horizon">
						<label for="re1" id="re1Label">模式1<span class="help-icon"></span></label>
						<input type="checkbox" class="contextMenuEnabledInput" id="re1">
					</div>
					<input type="text" maxlength="150" class="regexpInput">
				</div>
				<div hidden="" class="help-content">
					<p>
					可通过添加正则替换模式替换标注字符串，模式需遵循以下格式：<code>s/&lt;pattern&gt;/&lt;replacement&gt;/[&lt;flags&gt;]</code>。
					</p>
					<p>比如，你可以输入以下模式以匹配所有开头为“提示”的标注并为匹配到的标注加粗（两端添加**）：</p>
					<code>s/^(提示.*)$/**$1**/</code>。
					<p>下面是一些比较常用的模式：</p>
					<ul>
						<li>
							为开头为"步骤x："(x为0到99中任意整数)的标注加粗：<code>s/^(步骤[0-9]{1,2}[:：].*)$/**$1**/</code>。
						</li>
						<li>
							为开头为数字加一点的标注（如"1．Flask与HTTP"加粗）：<code>s/^([0-9](\.\s?|．).*)$/**$1**/</code>。
						</li>
						<li>
							将图片标题（如"图2-5 404错误响应"）及表格标题（如"表1-1 Flask的依赖包"）导出为居中格式：<code>s/^(图[0-9]{1,2}-[0-9]{1,2} .*|表[0-9]{1,2}-[0-9]{1,2} .*)$/&lt;p align='center'&gt;$1&lt;/p&gt;/</code>。
						</li>
						<li>
							将开头为"注意："、"附注："或"提示："的标注导出为居中格式：<code>s/^((注意|附注|提示)[:：].*)$/&lt;p align='center'&gt;$1&lt;/p&gt;/</code>。
						</li>
					</ul>
					<p><em>注意：</em></p>
					<ul>
						<li>选中正则匹配右方的选中框该正则表达式才会生效。</li>
						<li>单个标注最多匹配一次，也就是说，一条标注在匹配到某个正则表达式并替换完毕后，将不再继续与其他正则表达式进行匹配。所以在添加正则匹配的时候，最好不要让一个标注能够被多个正则表达式匹配到。</li>
						<li>因为正则匹配很容易影响导出效果，所以最好在对正则表达式进行充分测试后再使用正则替换。这是一个可供学习正则表达式的教程：<a href="https://github.com/cdoco/learn-regex-zh" target="_blank">learn-regex-zh</a>。</li>
					</ul>
				</div>
			<!--  -->
				<div class="option vertical">
					<div class="option horizon">
						<label for="re2" id="re2Label">模式2</label>
						<input type="checkbox" class="contextMenuEnabledInput" id="re2">
					</div>
					<input type="text" maxlength="150" class="regexpInput">
				</div>
			<!--  -->
				<div class="option vertical">
					<div class="option horizon">
						<label for="re3" id="re3Label">模式3</label>
						<input type="checkbox" class="contextMenuEnabledInput" id="re3">
					</div>
					<input type="text" maxlength="150" class="regexpInput">
				</div>
			<!--  -->
				<div class="option vertical">
					<div class="option horizon">
						<label for="re4" id="re4Label">模式4</label>
						<input type="checkbox" class="contextMenuEnabledInput" id="re4">
					</div>
					<input type="text" maxlength="150" class="regexpInput">
				</div>
			<!--  -->
				<div class="option vertical">
					<div class="option horizon">
						<label for="re5" id="re5Label">模式5</label>
						<input type="checkbox" class="contextMenuEnabledInput" id="re5">
					</div>
					<input type="text" maxlength="150" class="regexpInput">
				</div>
			</div>
		</details>
		<!-- 其他 -->
		<details>
			<summary>其他</summary>
			<div class="option">
				<label for="addThoughts" id="addThoughtsLabel">导出标注包含想法<span class="help-icon"></span></label>
				<input type="checkbox" id="addThoughts">
			</div>
			<div hidden="" class="help-content">
				<p>选中该选项之后，导出的标注（本章标注或是全书标注）中将包含你在书中留下的想法。</p>
			</div>
			<div class="option">
				<label for="allTitles" id="allTitlesLabel">导出标注包含所有章节<span class="help-icon"></span></label>
				<input type="checkbox" id="allTitles">
			</div>
			<div hidden="" class="help-content">
				<p>选中该选项之后，导出全书标注/热门标注时标注中将包含所有章节标题，即使该章节下没有标注/热门标注。</p>
			</div>
			<div class="option">
				<label for="displayN" id="displayNLabel">热门标注显示标注人数<span class="help-icon"></span></label>
				<input type="checkbox" id="displayN">
			</div>
			<div hidden="" class="help-content">
				<p>选中该选项之后，导出的热门标注中将包含每条热门标注的标记人数。</p>
			</div>
			<div class="option">
				<label for="enableRightClick" id="enableRightClickLabel">开启右键<span class="help-icon"></span></label>
				<input type="checkbox" id="enableRightClick">
			</div>
			<div hidden="" class="help-content">
				<p>选中该选项之后，可在读书页开启右键菜单。在需要复制或另存读书页图片的时候很有帮助。</p>
			</div>
			<div class="option">
				<label for="enableStatistics" id="enableStatisticsLabel">开启统计<span class="help-icon"></span></label>
				<input type="checkbox" id="enableStatistics">
			</div>
			<div hidden="" class="help-content">
				<p>选中该选项之后，将会在 popup 中添加名为“统计”的按钮，点击该按钮可查看周、月阅读时长统计图。</p>
			</div>
			<div class="option">
				<label for="enableDevelop" id="enableDevelopLabel">开发者选项<span class="help-icon"></span></label>
				<input type="checkbox" id="enableDevelop">
			</div>
			<div hidden="" class="help-content">
				<p>选中该选项之后，将会在 popup 中添加名为“开发者选项”的按钮，点击该按钮可调用用于测试的某些函数。</p>
			</div>
			<div class="option">
				<label for="selectActionOptions" id="selectActionOptionsLabel">选中后动作<span class="help-icon"></span></label>
				<select id="selectActionOptions">
					<option id="underlinNone">无</option>
					<option id="copy">复制</option>
					<option id="underlineBg">马克笔</option>
					<option id="underlineStraight">直线</option>
					<option id="underlineHandWrite">波浪线</option>
				</select>
			</div>
			<div hidden="" class="help-content">
				<p>在这里可设置选中文字后的动作。设置为“马克笔”则会在每次选中文字时自动点击“马克笔”以标注选中内容。设置为“复制”则在选中文字后自动复制选中内容。设置为“无”则关闭动作。</p>
			</div>
		</details>
		<div class="option"><a href="help.html" target="_blank">帮助</a></div>
		<!-- 确认提示 -->
		<div id="confirmContainer" class="popup">
			<div class="popup-content">
				<header>
					<span id="confirmLabel"></span>
				</header>
				<footer>
					<button type="submit" id="confirmButton">确定</button>
					<button id="cancelButton">取消</button>
				</footer>
			</div>
		</div>
		<!-- 输入提示 -->
		<div id="promptContainer" class="popup">
			<div class="popup-content">
				<header>
					<span id="promptLabel"></span>
				</header>
				<main><input id="promptInput" maxlength="20" type="text"></main>
				<footer>
					<button type="submit" id="promptConfirmButton">确定</button>
					<button id="promptCancelButton">取消</button>
				</footer>
			</div>
		</div>
	</main>
	<script type="text/javascript" src="options-variables.js"></script>
	<script type="text/javascript" src="options-init.js"></script>
	<script type="text/javascript" src="options-utils.js"></script>
	<script type="text/javascript" src="options-main.js"></script>
</body>

</html>